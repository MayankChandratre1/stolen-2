{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"http://localhost:5000/ api/admin\";\n\n// Get auth token\nconst getAuthToken = () => {\n  return localStorage.getItem(\"adminToken\") || localStorage.getItem(\"token\");\n};\n\n// Get dashboard stats\nexport const getAdminStats = async () => {\n  try {\n    const res = await axios.get(`${API_URL}/stats`, {\n      headers: {\n        Authorization: `Bearer ${getAuthToken()}`\n      }\n    });\n    return res.data;\n  } catch (error) {\n    console.error(\"Error getting admin stats:\", error);\n    throw error;\n  }\n};\n\n// User management\nexport const getAllUsers = async () => {\n  try {\n    const res = await axios.get(`${API_URL}/users`, {\n      headers: {\n        Authorization: `Bearer ${getAuthToken()}`\n      }\n    });\n    return res.data;\n  } catch (error) {\n    console.error(\"Error getting users:\", error);\n    throw error;\n  }\n};\nexport const getUserById = async id => {\n  try {\n    const res = await axios.get(`${API_URL}/users/${id}`, {\n      headers: {\n        Authorization: `Bearer ${getAuthToken()}`\n      }\n    });\n    return res.data;\n  } catch (error) {\n    console.error(\"Error getting user:\", error);\n    throw error;\n  }\n};\nexport const updateUser = async (id, userData) => {\n  try {\n    const res = await axios.put(`${API_URL}/users/${id}`, userData, {\n      headers: {\n        Authorization: `Bearer ${getAuthToken()}`\n      }\n    });\n    return res.data;\n  } catch (error) {\n    console.error(\"Error updating user:\", error);\n    throw error;\n  }\n};\nexport const deleteUser = async id => {\n  try {\n    const res = await axios.delete(`${API_URL}/users/${id}`, {\n      headers: {\n        Authorization: `Bearer ${getAuthToken()}`\n      }\n    });\n    return res.data;\n  } catch (error) {\n    console.error(\"Error deleting user:\", error);\n    throw error;\n  }\n};\n\n// Skills management\nexport const getAllSkills = async () => {\n  try {\n    const res = await axios.get(`${API_URL}/skills`, {\n      headers: {\n        Authorization: `Bearer ${getAuthToken()}`\n      }\n    });\n    return res.data;\n  } catch (error) {\n    console.error(\"Error getting skills:\", error);\n    throw error;\n  }\n};\nexport const updateSkill = async (id, skillData) => {\n  try {\n    const res = await axios.put(`${API_URL}/skills/${id}`, skillData, {\n      headers: {\n        Authorization: `Bearer ${getAuthToken()}`\n      }\n    });\n    return res.data;\n  } catch (error) {\n    console.error(\"Error updating skill:\", error);\n    throw error;\n  }\n};\nexport const deleteSkill = async id => {\n  try {\n    const res = await axios.delete(`${API_URL}/skills/${id}`, {\n      headers: {\n        Authorization: `Bearer ${getAuthToken()}`\n      }\n    });\n    return res.data;\n  } catch (error) {\n    console.error(\"Error deleting skill:\", error);\n    throw error;\n  }\n};\n\n// Transactions\nexport const getAllTransactions = async () => {\n  try {\n    const res = await axios.get(`${API_URL}/transactions`, {\n      headers: {\n        Authorization: `Bearer ${getAuthToken()}`\n      }\n    });\n    return res.data;\n  } catch (error) {\n    console.error(\"Error getting transactions:\", error);\n    throw error;\n  }\n};\n\n// Check if user is admin\nexport const checkAdminStatus = async () => {\n  const token = getAuthToken();\n  if (!token) return {\n    isAdmin: false\n  };\n  try {\n    const res = await axios.get(\"http://localhost:5000/ api/auth/is-admin\", {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return res.data;\n  } catch (error) {\n    console.error(\"Error checking admin status:\", error);\n    return {\n      isAdmin: false\n    };\n  }\n};","map":{"version":3,"names":["axios","API_URL","getAuthToken","localStorage","getItem","getAdminStats","res","get","headers","Authorization","data","error","console","getAllUsers","getUserById","id","updateUser","userData","put","deleteUser","delete","getAllSkills","updateSkill","skillData","deleteSkill","getAllTransactions","checkAdminStatus","token","isAdmin"],"sources":["C:/GOG Games/project-1/client/src/services/adminService.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_URL = \"http://localhost:5000/ api/admin\";\r\n\r\n// Get auth token\r\nconst getAuthToken = () => {\r\n  return localStorage.getItem(\"adminToken\") || localStorage.getItem(\"token\");\r\n};\r\n\r\n// Get dashboard stats\r\nexport const getAdminStats = async () => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/stats`, {\r\n      headers: { Authorization: `Bearer ${getAuthToken()}` },\r\n    });\r\n    return res.data;\r\n  } catch (error) {\r\n    console.error(\"Error getting admin stats:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// User management\r\nexport const getAllUsers = async () => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/users`, {\r\n      headers: { Authorization: `Bearer ${getAuthToken()}` },\r\n    });\r\n    return res.data;\r\n  } catch (error) {\r\n    console.error(\"Error getting users:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getUserById = async (id) => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/users/${id}`, {\r\n      headers: { Authorization: `Bearer ${getAuthToken()}` },\r\n    });\r\n    return res.data;\r\n  } catch (error) {\r\n    console.error(\"Error getting user:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateUser = async (id, userData) => {\r\n  try {\r\n    const res = await axios.put(`${API_URL}/users/${id}`, userData, {\r\n      headers: { Authorization: `Bearer ${getAuthToken()}` },\r\n    });\r\n    return res.data;\r\n  } catch (error) {\r\n    console.error(\"Error updating user:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteUser = async (id) => {\r\n  try {\r\n    const res = await axios.delete(`${API_URL}/users/${id}`, {\r\n      headers: { Authorization: `Bearer ${getAuthToken()}` },\r\n    });\r\n    return res.data;\r\n  } catch (error) {\r\n    console.error(\"Error deleting user:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Skills management\r\nexport const getAllSkills = async () => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/skills`, {\r\n      headers: { Authorization: `Bearer ${getAuthToken()}` },\r\n    });\r\n    return res.data;\r\n  } catch (error) {\r\n    console.error(\"Error getting skills:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateSkill = async (id, skillData) => {\r\n  try {\r\n    const res = await axios.put(`${API_URL}/skills/${id}`, skillData, {\r\n      headers: { Authorization: `Bearer ${getAuthToken()}` },\r\n    });\r\n    return res.data;\r\n  } catch (error) {\r\n    console.error(\"Error updating skill:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteSkill = async (id) => {\r\n  try {\r\n    const res = await axios.delete(`${API_URL}/skills/${id}`, {\r\n      headers: { Authorization: `Bearer ${getAuthToken()}` },\r\n    });\r\n    return res.data;\r\n  } catch (error) {\r\n    console.error(\"Error deleting skill:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Transactions\r\nexport const getAllTransactions = async () => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/transactions`, {\r\n      headers: { Authorization: `Bearer ${getAuthToken()}` },\r\n    });\r\n    return res.data;\r\n  } catch (error) {\r\n    console.error(\"Error getting transactions:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Check if user is admin\r\nexport const checkAdminStatus = async () => {\r\n  const token = getAuthToken();\r\n  if (!token) return { isAdmin: false };\r\n  \r\n  try {\r\n    const res = await axios.get(\"http://localhost:5000/ api/auth/is-admin\", {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    });\r\n    return res.data;\r\n  } catch (error) {\r\n    console.error(\"Error checking admin status:\", error);\r\n    return { isAdmin: false };\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}