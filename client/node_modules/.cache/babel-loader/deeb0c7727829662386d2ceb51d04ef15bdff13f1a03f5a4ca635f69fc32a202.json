{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"http://localhost:5000/api/transactions\";\n\n// ✅ Earn Credits\nexport const earnCredits = async skillId => {\n  try {\n    const token = localStorage.getItem(\"token\");\n    if (!token) throw new Error(\"No authentication token found\");\n    console.log(`Earning credits for skill: ${skillId}`);\n    const res = await axios.post(`${API_URL}/earn`, {\n      skillId\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    console.log(\"Earn credits response:\", res.data);\n    return res.data;\n  } catch (error) {\n    console.error(\"Error earning credits:\", error);\n    throw error;\n  }\n};\n\n// ✅ Spend Credits\nexport const spendCredits = async skillId => {\n  try {\n    const token = localStorage.getItem(\"token\");\n    if (!token) throw new Error(\"No authentication token found\");\n    console.log(`Spending credits for skill: ${skillId}`);\n    const res = await axios.post(`${API_URL}/spend`, {\n      skillId\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    console.log(\"Spend credits response:\", res.data);\n    return res.data;\n  } catch (error) {\n    console.error(\"Error spending credits:\", error);\n    throw error;\n  }\n};\n\n// ✅ Get Transaction History\nexport const getTransactionHistory = async () => {\n  try {\n    const token = localStorage.getItem(\"token\");\n    if (!token) throw new Error(\"No authentication token found\");\n    console.log(\"Fetching transaction history...\");\n    const response = await axios.get(API_URL, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    console.log(\"Transaction history response:\", response.data);\n    return response.data;\n  } catch (error) {\n    console.error(\"Error fetching transaction history:\", error);\n    throw error;\n  }\n};","map":{"version":3,"names":["axios","API_URL","earnCredits","skillId","token","localStorage","getItem","Error","console","log","res","post","headers","Authorization","data","error","spendCredits","getTransactionHistory","response","get"],"sources":["C:/Users/SUMIT/Desktop/project-1/client/src/services/transactionService.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_URL = \"http://localhost:5000/api/transactions\";\r\n\r\n// ✅ Earn Credits\r\nexport const earnCredits = async (skillId) => {\r\n  try {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) throw new Error(\"No authentication token found\");\r\n    \r\n    console.log(`Earning credits for skill: ${skillId}`);\r\n    \r\n    const res = await axios.post(\r\n      `${API_URL}/earn`,\r\n      { skillId },\r\n      { headers: { Authorization: `Bearer ${token}` } }\r\n    );\r\n    \r\n    console.log(\"Earn credits response:\", res.data);\r\n    return res.data;\r\n  } catch (error) {\r\n    console.error(\"Error earning credits:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// ✅ Spend Credits\r\nexport const spendCredits = async (skillId) => {\r\n  try {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) throw new Error(\"No authentication token found\");\r\n    \r\n    console.log(`Spending credits for skill: ${skillId}`);\r\n    \r\n    const res = await axios.post(\r\n      `${API_URL}/spend`,\r\n      { skillId },\r\n      { headers: { Authorization: `Bearer ${token}` } }\r\n    );\r\n    \r\n    console.log(\"Spend credits response:\", res.data);\r\n    return res.data;\r\n  } catch (error) {\r\n    console.error(\"Error spending credits:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// ✅ Get Transaction History\r\nexport const getTransactionHistory = async () => {\r\n  try {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) throw new Error(\"No authentication token found\");\r\n    \r\n    console.log(\"Fetching transaction history...\");\r\n    \r\n    const response = await axios.get(API_URL, {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    console.log(\"Transaction history response:\", response.data);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\"Error fetching transaction history:\", error);\r\n    throw error;\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,wCAAwC;;AAExD;AACA,OAAO,MAAMC,WAAW,GAAG,MAAOC,OAAO,IAAK;EAC5C,IAAI;IACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE,MAAM,IAAIG,KAAK,CAAC,+BAA+B,CAAC;IAE5DC,OAAO,CAACC,GAAG,CAAC,8BAA8BN,OAAO,EAAE,CAAC;IAEpD,MAAMO,GAAG,GAAG,MAAMV,KAAK,CAACW,IAAI,CAC1B,GAAGV,OAAO,OAAO,EACjB;MAAEE;IAAQ,CAAC,EACX;MAAES,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUT,KAAK;MAAG;IAAE,CAClD,CAAC;IAEDI,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEC,GAAG,CAACI,IAAI,CAAC;IAC/C,OAAOJ,GAAG,CAACI,IAAI;EACjB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdP,OAAO,CAACO,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAC9C,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAMC,YAAY,GAAG,MAAOb,OAAO,IAAK;EAC7C,IAAI;IACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE,MAAM,IAAIG,KAAK,CAAC,+BAA+B,CAAC;IAE5DC,OAAO,CAACC,GAAG,CAAC,+BAA+BN,OAAO,EAAE,CAAC;IAErD,MAAMO,GAAG,GAAG,MAAMV,KAAK,CAACW,IAAI,CAC1B,GAAGV,OAAO,QAAQ,EAClB;MAAEE;IAAQ,CAAC,EACX;MAAES,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUT,KAAK;MAAG;IAAE,CAClD,CAAC;IAEDI,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEC,GAAG,CAACI,IAAI,CAAC;IAChD,OAAOJ,GAAG,CAACI,IAAI;EACjB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdP,OAAO,CAACO,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/C,MAAMA,KAAK;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAME,qBAAqB,GAAG,MAAAA,CAAA,KAAY;EAC/C,IAAI;IACF,MAAMb,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,IAAI,CAACF,KAAK,EAAE,MAAM,IAAIG,KAAK,CAAC,+BAA+B,CAAC;IAE5DC,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;IAE9C,MAAMS,QAAQ,GAAG,MAAMlB,KAAK,CAACmB,GAAG,CAAClB,OAAO,EAAE;MACxCW,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUT,KAAK,EAAE;QAChC,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;IAEFI,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAES,QAAQ,CAACJ,IAAI,CAAC;IAC3D,OAAOI,QAAQ,CAACJ,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdP,OAAO,CAACO,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;IAC3D,MAAMA,KAAK;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}